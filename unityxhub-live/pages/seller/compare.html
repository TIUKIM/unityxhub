<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Compare Products â€“ UnityXhub</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Reuse Global CSS -->
    <link rel="stylesheet" href="../../css/style.css">

    <style>
        .compare-container {
            max-width: 1200px;
            margin: 30px auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .compare-header {
            padding: 20px;
            background: var(--primary);
            color: white;
            font-size: 1.6rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .compare-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .compare-table th {
            text-align: center;
            background: #f5f5f5;
            padding: 15px;
            font-weight: 700;
            color: var(--dark);
            min-width: 200px;
        }

        .compare-table td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }

        .product-img img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            border: 1px solid var(--gray);
        }

        .product-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
        }

        .remove-btn {
            margin-top: 10px;
            padding: 6px 12px;
            background: #e91e63;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
        }

        .remove-btn:hover {
            background: #d32f2f;
        }

        .action-buttons {
            padding: 20px;
            text-align: center;
            background: #f8f9fa;
        }

        .action-btn {
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            margin: 0 10px;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .continue-shopping {
            background: var(--primary);
            color: white;
        }

        .continue-shopping:hover {
            background: #e05d00;
        }

        .clear-all {
            background: #f44336;
            color: white;
        }

        .clear-all:hover {
            background: #d32f2f;
        }

        /* Responsive Table */
        @media (max-width: 768px) {
            .compare-container {
                margin: 15px;
            }
            .compare-table th, .compare-table td {
                padding: 10px;
                font-size: 0.9rem;
            }
            .product-img img {
                width: 80px;
                height: 80px;
            }
            .product-price {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo-section">
                <div class="site-title">UnityXhub</div>
                <div class="slogan">Compare Products</div>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Search products...">
                <div class="search-icon"><i class="fas fa-search"></i></div>
            </div>
            <div class="auth-buttons">
                <a href="../../pages/seller/cart.html" class="btn btn-outline">
                    <i class="fas fa-shopping-cart"></i> Cart
                </a>
            </div>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <div class="nav-tabs">
        <div class="tabs-container">
            <a href="../../index.html"><i class="fas fa-home"></i> Home</a>
            <a href="../seller/shopping.html"><i class="fas fa-shopping-cart"></i> Shopping</a>
            <a href="#" class="active"><i class="fas fa-balance-scale"></i> Compare</a>
        </div>
    </div>

    <!-- Comparison Table -->
    <main>
        <div class="compare-container">
            <div class="compare-header">
                <i class="fas fa-balance-scale"></i> Product Comparison
            </div>
            <table class="compare-table" id="comparisonTable">
                <!-- Filled by JS -->
            </table>

            <div class="action-buttons">
                <button class="action-btn continue-shopping" onclick="location.href='../shopping.html'">
                    <i class="fas fa-shopping-cart"></i> Continue Shopping
                </button>
                <button class="action-btn clear-all" onclick="clearAll()">
                    <i class="fas fa-trash"></i> Clear All
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <!-- Column 1: About UnityXhub -->
            <div class="footer-column">
                <h3>UnityXhub</h3>
                <p>Your one-stop digital ecosystem for shopping, jobs, freelancers, and community connections. Built by Filipinos for the global economy.</p>
            </div>

            <!-- Column 2: Quick Links -->
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="../../index.html"><i class="fas fa-chevron-right"></i> Home</a></li>
                    <li><a href="../../pages/seller/shopping.html"><i class="fas fa-chevron-right"></i> Shopping Marketplace</a></li>
                    <li><a href="../../pages/seller/cart.html"><i class="fas fa-chevron-right"></i> View Cart</a></li>
                    <li><a href="../../pages/safety-tips.html"><i class="fas fa-chevron-right"></i> Safety Tips</a></li>
                </ul>
            </div>

            <!-- Column 3: Support -->
            <div class="footer-column">
                <h3>Support</h3>
                <ul class="footer-links">
                    <li><a href="../../pages/help-center.html"><i class="fas fa-chevron-right"></i> FAQ Center</a></li>
                    <li><a href="../../pages/contact.html"><i class="fas fa-chevron-right"></i> Contact Us</a></li>
                    <li><a href="../../pages/buyer-protection.html"><i class="fas fa-chevron-right"></i> Buyer Protection</a></li>
                    <li><a href="../../pages/report.html"><i class="fas fa-chevron-right"></i> Report an Issue</a></li>
                    <li><a href="../../pages/safety-tips.html"><i class="fas fa-chevron-right"></i> Safety Tips</a></li>
                </ul>
            </div>

            <!-- Column 4: Legal -->
            <div class="footer-column">
                <h3>Legal</h3>
                <ul class="footer-links">
                    <li><a href="../../pages/about.html"><i class="fas fa-chevron-right"></i> About Us</a></li>
                    <li><a href="../../pages/terms-of-service.html"><i class="fas fa-chevron-right"></i> Terms of Service</a></li>
                    <li><a href="../../pages/privacy-policy.html"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                    <li><a href="../../pages/cookies-policy.html"><i class="fas fa-chevron-right"></i> Cookie Policy</a></li>
                    <li><a href="../../pages/disclaimer.html"><i class="fas fa-chevron-right"></i> Platform Disclaimer</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">&copy; 2025 UnityXhub. All rights reserved.</div>
    </footer>

    <!-- Load Scripts -->
    <script src="../../js/cart.js"></script>
    <script>
        // Simulated product database
        const allProducts = {
            'iphone15': {
                name: "iPhone 15 128GB",
                price: 699,
                image: "https://via.placeholder.com/100x100?text=iPhone+15",
                specs: {
                    Display: "6.1\" Super Retina XDR",
                    Chip: "A17 Bionic",
                    Camera: "48MP Main",
                    Battery: "20 hours",
                    OS: "iOS 17"
                }
            },
            'galaxy-s23': {
                name: "Samsung Galaxy S23",
                price: 649,
                image: "https://via.placeholder.com/100x100?text=Galaxy+S23",
                specs: {
                    Display: "6.1\" Dynamic AMOLED",
                    Chip: "Snapdragon 8 Gen 2",
                    Camera: "50MP Main",
                    Battery: "18 hours",
                    OS: "Android 13"
                }
            },
            'airpods': {
                name: "AirPods Pro 2nd Gen",
                price: 199,
                image: "https://via.placeholder.com/100x100?text=AirPods+Pro",
                specs: {
                    Type: "In-Ear Wireless",
                    NoiseCanceling: "Active ANC",
                    Battery: "6 hours (24h with case)",
                    Charging: "Wireless & Lightning",
                    Features: "Spatial Audio"
                }
            }
        };

        // Load compared products
        const comparedIds = JSON.parse(localStorage.getItem('unityxhub_compare')) || [];
        const table = document.getElementById('comparisonTable');

        if (comparedIds.length === 0) {
            table.innerHTML = `
                <tr><td colspan="4" style="text-align:center; padding:40px;">
                    <i class="fas fa-balance-scale" style="font-size:3rem; opacity:0.3;"></i><br><br>
                    No products to compare. Go to shopping and click "Compare".
                </td></tr>
            `;
        } else {
            const products = comparedIds.map(id => allProducts[id]).filter(Boolean);
            const allSpecs = [...new Set(products.flatMap(p => Object.keys(p.specs)))];

            // Build table
            let html = `
                <tr>
                    <th>Feature</th>
                    ${products.map(p => `<th>${p.name}</th>`).join('')}
                </tr>
                <tr>
                    <td><strong>Image</strong></td>
                    ${products.map(p => `
                        <td class="product-img"><img src="${p.image}" alt="${p.name}"></td>
                    `).join('')}
                </tr>
                <tr>
                    <td><strong>Price</strong></td>
                    ${products.map(p => `
                        <td class="product-price">$${p.price}</td>
                    `).join('')}
                </tr>
            `;

            allSpecs.forEach(spec => {
                html += `
                    <tr>
                        <td>${spec}</td>
                        ${products.map(p => `<td>${p.specs[spec] || 'â€“'}</td>`).join('')}
                    </tr>
                `;
            });

            html += `
                <tr>
                    <td><strong>Action</strong></td>
                    ${products.map(p => `
                        <td>
                            <button class="remove-btn" onclick="removeFromCompare('${p.name}')">Remove</button>
                        </td>
                    `).join('')}
                </tr>
            `;

            table.innerHTML = html;
        }

        function removeFromCompare(productName) {
            const updated = comparedIds.filter(id => allProducts[id]?.name !== productName);
            localStorage.setItem('unityxhub_compare', JSON.stringify(updated));
            alert(`${productName} removed from comparison.`);
            location.reload();
        }

        function clearAll() {
            if (confirm("Are you sure you want to clear all compared products?")) {
                localStorage.removeItem('unityxhub_compare');
                alert("Comparison list cleared.");
                location.reload();
            }
        }
    </script>
</body>
</html>